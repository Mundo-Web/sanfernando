import{R as e,r as l}from"./YTEmbed-TT1qJ6UJ.js";import{c as M}from"./ReactAppend-KDUPWIs7.js";import{C as T}from"./CreateReactScript-DoGUH63A.js";import{m as o}from"./main-jzs2GwAM.js";import"./SliderFront-HPKR9-_A.js";import{C as _}from"./Curse-PVzlqFhr.js";import"./SliderTestimony-Z4t0tk7t.js";import{S as q}from"./SelectSecond-Am4rvYjZ.js";import{F as P}from"./FilterPagination-mejO9PtN.js";import{a as R}from"./axios-_sX4vCAy.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-PQumg_A6.js";import"./CreateReactScript-RK7sE0Jg.js";import"./truncateText-C3yxPslF.js";import"./tippy-react.esm-TjKtyAyW.js";import"./Teacher-Gbl14if9.js";const j=({productos:d,env_url:c,userIsLogged:g,Wishlist:b,categorias:f})=>{l.useState(!1);const[s,m]=l.useState({query:o.GET.search??"",order:"",category:o.GET.category?[o.GET.category]:[],tag:o.GET.tag??""}),y=[{value:"a-z",label:"Desde A a Z"},{value:"z-a",label:"Desde Z a A"},{value:"ultimos",label:"Ultimos"}],[i,E]=l.useState([]),[n,h]=l.useState(!0),w=b.map(t=>t.product_id),u=9,[p,x]=l.useState(1),[N,C]=l.useState(0);l.useEffect(()=>{v()},[p,s]);const v=async()=>{try{const a=(await R.post(`/buscar?query=${s.query}&order=${s.order}&category=${s.category.join(",")}&tag=${s.tag}`,{skip:u*(p-1),requireTotalCount:!0,take:u})).data;E(a.resultado),C(a.totalCount??0)}catch(t){console.error("Error fetching search results:",t)}},S=t=>{x(1),m(a=>({...a,query:t.target.value}))},k=t=>{m(a=>({...a,order:t.value}))},F=(t,a)=>{m(r=>({...r,category:a?r.category.filter($=>$!==t):[...r.category,t]}))};return e.createElement(e.Fragment,null,e.createElement("section",{className:"flex flex-col"},e.createElement("div",{className:"flex flex-col justify-center items-center px-[8%] py-10 xl:py-16 w-full max-w-3xl text-center mx-auto gap-5"},e.createElement("h1",{className:"text-4xl lg:text-5xl font-Montserrat_Bold font-bold"},"Descubre el Curso Perfecto para Ti"),e.createElement("p",{className:"text-base font-Montserrat_Regular tracking-normal"},"Más de 50 opciones diseñadas para estudiantes y médicos en busca de especialización."),e.createElement("div",{className:"flex flex-wrap gap-2.5 items-center px-4 py-2 w-full bg-[#566574] bg-opacity-10 rounded-3xl max-md:max-w-full"},e.createElement("label",{htmlFor:"searchInput",className:"sr-only"},"Buscar por nombre del curso, especialidad o palabras"),e.createElement("input",{type:"text",id:"searchInput",onChange:S,placeholder:"Buscar por nombre del curso, especialidad o palabras",className:"flex-1 w-full py-3 px-3 text-base font-poppins_regular text-[#2D464C] border-0 focus:border-0 focus:ring-0 bg-transparent",style:{outline:"none !important",border:"none"},defaultValue:o.GET.search}),e.createElement("a",{className:"w-auto bg-[#F19905] px-6 py-2 rounded-2xl text-base text-white font-Montserrat_SemiBold"},"Buscar")))),e.createElement("section",{className:"flex flex-col !font-normal pb-10 xl:pb-16"},e.createElement("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-12 px-[5%] lg:px-[8%] w-full"},e.createElement("div",{className:"flex flex-col w-full lg:w-1/3"},e.createElement("div",{className:"relative w-full"},e.createElement("div",{className:`py-3 px-4 cursor-pointer bg-[#f0f1f2] flex rounded-t-2xl justify-between items-center ${n?"":"rounded-b-2xl"}`,onClick:()=>h(!n)},e.createElement("span",{className:"font-Montserrat_Bold text-[#221F1F] text-xl"},"Cursos"),e.createElement("span",{className:`transform transition-transform ${n?"rotate-180":""}`},e.createElement("i",{className:"fa-solid fa-chevron-down"}))),e.createElement("ul",{className:`w-full p-5 flex flex-col gap-3 bg-[#f0f1f2] border-b border-gray-300 z-10 rounded-b-2xl ${n?"block":"hidden"}`},f.length>0&&f.map((t,a)=>e.createElement("li",{key:t.id,className:"flex flex-row items-start justify-start"},e.createElement("input",{type:"checkbox",id:`react-option-${a}`,value:t.id,className:"peer rounded-sm focus:ring-0 border-[#F19905] text-[#F19905]",required:""}),e.createElement("label",{onClick:r=>F(t.id,r.target.previousSibling.checked),htmlFor:`react-option-${a}`,type:"button",className:"font-Montserrat_Regular leading-none ml-2"},t.name)))))),e.createElement("div",{className:"flex flex-col w-full lg:w-2/3"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2  w-full gap-12  pb-12"},e.createElement("div",{className:"col-span-1 lg:col-span-2 flex flex-col md:flex-row md:justify-end gap-3 justify-center items-start  min-w-[240px] font-Montserrat_Regular"},e.createElement("span",{className:"self-stretch my-auto text-sm tracking-normal leading-loose text-gray-600 ml-1"},"Ordenar por:"),e.createElement(q,{title:"Seleccionar ",options:y,handleOptionChange:k})),i==null?void 0:i.map((t,a)=>{let r=w.includes(t.id)?t.wishlist=!0:t.wishlist=!1;return e.createElement(_,{key:a,producto:t,env_url:c,userIsLogged:g,deseoActivo:r})})),e.createElement(P,{current:p,setCurrent:x,pages:Math.ceil(N/u)})))))};T((d,c)=>{M(d).render(e.createElement(j,{...c}))});
