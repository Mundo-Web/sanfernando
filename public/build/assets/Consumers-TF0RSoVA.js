var xe=Object.defineProperty;var he=(l,s,c)=>s in l?xe(l,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[s]=c;var F=(l,s,c)=>(he(l,typeof s!="symbol"?s+"":s,c),c);import{r as x,R as e}from"./YTEmbed-TT1qJ6UJ.js";import{c as ue}from"./ReactAppend-KDUPWIs7.js";import"./Teacher-Gbl14if9.js";import{C as be}from"./CreateReactScript-DoGUH63A.js";import{B as V}from"./BasicRest-6H19Tby_.js";import{T as f}from"./tippy-react.esm-TjKtyAyW.js";import{R as z}from"./OfferForm-CywbxyoS.js";import{m as M}from"./main-jzs2GwAM.js";import{a as ne}from"./arrayJoin-X0k7NUGR.js";import{S as w}from"./FormEstudiante-StMcfUlx.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-PQumg_A6.js";import"./CreateReactScript-RK7sE0Jg.js";import"./axios-_sX4vCAy.js";import"./index-VFMbf6KQ.js";const Ee=({gridRef:l,rest:s,columns:c,toolBar:m,masterDetail:u,filterValue:C,exportable:v,exportableName:A,customizeCell:T=()=>{},selectable:B=!1})=>(x.useEffect(()=>{DevExpress.localization.locale(navigator.language),$(l.current).dxDataGrid({language:"es",dataSource:{load:async r=>await s.paginate({...r,_token:$('[name="csrf_token"]').attr("content")})},onToolbarPreparing:r=>{const{items:h}=r.toolbarOptions;m(h)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:!0},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:"calc(100vh - 185px)",filterValue:C||null,export:{enabled:v},selection:B?{mode:"multiple",selectAllMode:"page"}:null,onExporting:function(r){var h=new ExcelJS.Workbook,p=h.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:p,component:r.component,customizeCell:function(E){T(E),E.excelCell.alignment={horizontal:"left",vertical:"top",...E.excelCell.alignment}}}).then(function(){h.xlsx.writeBuffer().then(function(E){saveAs(new Blob([E],{type:"application/octet-stream"}),`${A}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:10},pager:{visible:!0,allowedPageSizes:[5,10,25,50,100],showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:c,masterDetail:u,onContentReady:(...r)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0})},[null]),e.createElement("div",{id:"grid-container",ref:l})),ye=({title:l,gridRef:s,rest:c,columns:m,toolBar:u,masterDetail:C,filterValue:v,exportable:A=!1,customizeCell:T,selectable:B=!1})=>e.createElement("div",{className:"flex flex-wrap"},e.createElement("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 max-w-9xl mx-auto"},e.createElement("div",{className:"bg-white rounded-lg shadow-md"},e.createElement("div",{className:"p-4"},e.createElement("h4",{className:"text-lg font-semibold mb-4"},e.createElement("div",{id:"header-title-options",className:"float-right"}),e.createElement("span",{id:"header-title-prefix"})," Lista de ",l," ",e.createElement("span",{id:"header-title-suffix"})),e.createElement(Ee,{exportableName:l,gridRef:s,rest:c,columns:m.filter(Boolean),toolBar:u,masterDetail:C,filterValue:v,exportable:A,customizeCell:T,selectable:B})))));class we extends V{constructor(){super(...arguments);F(this,"path","admin/consumers")}}const le=({className:l,title:s,icon:c,onClick:m,...u})=>$("<div>").dxButton({hint:s,template:(C,v)=>{v.addClass(`${c} d-block`)},elementAttr:{class:`${l} position-relative me-1 px-1 py-0 tippy-here`,...u},onClick:m}),oe=(l,s)=>{const c=document.createElement("div");l.append(c),ue(c).render(s)};class Ne extends V{constructor(){super(...arguments);F(this,"path","admin/courses");F(this,"assign",async c=>{try{const{status:m,result:u}=await M.Fetch(`/api/${this.path}/assign`,{method:"POST",body:M.JSON.stringify(c)});if(!m)throw new Error((u==null?void 0:u.message)||"Ocurrio un error inesperado");return M.Notify.add({icon:"/images/icon.svg",title:"Correcto",body:u.message,type:"success"}),u.data}catch(m){return M.Notify.add({icon:"/images/icon.svg",title:"Error",body:m.message,type:"danger"}),null}})}}const G=({className:l,...s})=>e.createElement(e.Fragment,null,e.createElement("div",{className:`px-4 flex items-center gap-2 py-3 text-sm text-gray-900 rounded border shadow ${l}`},e.createElement("img",{className:"h-10 w-10 flex-shrink-0 object-cover object-center rounded-full",src:`/storage/${s==null?void 0:s.profile_photo_path}`,alt:`Perfil de ${s==null?void 0:s.name} ${(s==null?void 0:s.lastname)||""}`,onError:c=>c.target.src=`https://ui-avatars.com/api/?name=${s==null?void 0:s.name}+${(s==null?void 0:s.lastname)||""}&color=7F9CF5&background=EBF4FF`}),e.createElement("div",{className:"min-w-0 flex-1"},e.createElement("div",{className:"font-medium truncate"},s==null?void 0:s.name," ",(s==null?void 0:s.lastname)||""),e.createElement("div",{className:"truncate text-gray-500"},s==null?void 0:s.email)))),I=(l=[],s=(c,m)=>c==m)=>l[0].filter(c=>l.every(m=>m.some(u=>s(u,c))));class Ce extends V{constructor(){super(...arguments);F(this,"path","admin/certificates");F(this,"assign",async c=>{try{const{status:m,result:u}=await M.Fetch(`/api/${this.path}/assign`,{method:"POST",body:JSON.stringify(c)});if(!m)throw new Error((u==null?void 0:u.message)||"Ocurrio un error inesperado");return M.Notify.add({icon:"/images/icon.svg",title:"Correcto",body:u.message,type:"success"}),u.data}catch(m){return M.Notify.add({icon:"/images/icon.svg",title:"Error",body:m.message,type:"danger"}),null}})}}const ve=new we,_=new Ne,ce=new Ce;z.setAppElement("#app");const ie={content:{width:"95%",maxWidth:"420px",height:"max-content",maxHeight:"95vh",overflowY:"auto",zIndex:"40",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},me={content:{width:"95%",maxWidth:"660px",height:"max-content",maxHeight:"95vh",overflowY:"auto",zIndex:"40",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},$e=()=>{var K,Q,U,Y,X,Z,L,ee,te,ae,re,se;const l=x.useRef(),s=x.useRef(),[c,m]=x.useState(!1),[u,C]=x.useState(!1),[v,A]=x.useState(!1),[T,B]=x.useState(!1),[r,h]=x.useState(null),[p,E]=x.useState(null),[d,R]=x.useState([]),[g,O]=x.useState([]),[k,P]=x.useState([]),[S,D]=x.useState([]),W=t=>{m(!0),R([]),h(t)},H=t=>{C(!0),O([]),h(t)},J=async t=>{const a=t.target.value.trim();if(!a){P([]);return}const n=[["producto","contains",a]];let o=[];v?o=[...I(p.map(b=>b.courses),(b,N)=>b.id==N.id),...d].map(b=>["id","=",b.id]):o=[...r==null?void 0:r.courses,...d].map(y=>["id","=",y.id]),o.length>0&&n.push(["!",ne(o,"or")]);const i=await _.paginate({filter:ne(n,"and")});P((i==null?void 0:i.data)??[])},j=t=>{const a=t.target.value.trim();let n=r==null?void 0:r.courses;T?n=I(p.map(o=>o.courses),(o,i)=>o.id==i.id).filter(o=>![...I(p.map(i=>i.certificates),(i,y)=>i.id==y.id),...g].some(i=>i.id==o.id)):n=n.filter(o=>![...r==null?void 0:r.certificates,...g].some(i=>i.id==o.id)),D(n.filter(o=>o.producto.toLowerCase().includes(a.toLowerCase())))},q=t=>{R(a=>a.filter(o=>o.id!=t)),O(a=>a.filter(o=>o.id!=t))},pe=async()=>{var o;const{isConfirmed:t}=await w.fire({title:"Asignar cursos",text:`¿Está seguro de asignar ${d.length} ${d.length==1?"curso":"cursos"} a ${(o=r==null?void 0:r.name)==null?void 0:o.split(" ")[0]}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!t)return;const a={user_id:r==null?void 0:r.id,courses:d.map(({id:i})=>i)},n=await _.assign(a);n&&(h(n),R([]),$(l.current).dxDataGrid("instance").refresh())},de=async()=>{const{isConfirmed:t}=await w.fire({title:"Asignar cursos",text:`¿Está seguro de asignar ${d.length} ${d.length==1?"curso":"cursos"} a ${p.length} ${p.length==1?"alumno":"alumnos"}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!t)return;let a=0;const n=p.length,o=w.mixin({title:"Asignación en curso",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1});o.fire({html:`Se han asignado cursos a ${a}/${n} alumnos`});for(const i of p){const y=d.filter(b=>!i.courses.find(N=>b.id===N.id));y.length>0?await _.assign({user_id:i.id,courses:y.map(({id:N})=>N)})&&(a++,o.update({html:`Se han asignado cursos a ${a}/${n} alumnos`})):(a++,o.update({html:`Se han asignado cursos a ${a}/${n} alumnos`}))}o.close(),await w.fire({title:"Asignación completada",text:"Todos los cursos han sido asignados correctamente.",icon:"success",confirmButtonText:"Aceptar"}),$(l.current).dxDataGrid("instance").refresh(),$(l.current).dxDataGrid("instance").deselectAll(),A(!1),R([])},ge=async()=>{var o;const{isConfirmed:t}=await w.fire({title:"Asignar certificados",text:`¿Está seguro de asignar ${g.length} ${g.length==1?"certificado":"certificados"} a ${(o=r==null?void 0:r.name)==null?void 0:o.split(" ")[0]}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!t)return;const a={user_id:r==null?void 0:r.id,courses:g.map(({id:i})=>i)},n=await ce.assign(a);n&&(h(n),O([]),$(l.current).dxDataGrid("instance").refresh())},fe=async()=>{const{isConfirmed:t}=await w.fire({title:"Asignar certificados",text:`¿Está seguro de asignar ${g.length} ${g.length==1?"certificado":"certificados"} a ${p.length} ${p.length==1?"alumno":"alumnos"}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Asignar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!t)return;let a=0;const n=p.length,o=w.mixin({title:"Asignación en curso",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1});o.fire({html:`Se han asignado certificados a ${a}/${n} alumnos`});for(const i of p){const y=g.filter(b=>!i.certificates.find(N=>b.id===N.id));y.length>0?await ce.assign({user_id:i.id,courses:y.map(({id:N})=>N)})&&(a++,o.update({html:`Se han asignado certificados a ${a}/${n} alumnos`})):(a++,o.update({html:`Se han asignado certificados a ${a}/${n} alumnos`}))}o.close(),await w.fire({title:"Asignación completada",text:"Todos los certificados han sido asignados correctamente.",icon:"success",confirmButtonText:"Aceptar"}),$(l.current).dxDataGrid("instance").refresh(),$(l.current).dxDataGrid("instance").deselectAll(),B(!1),O([])};return e.createElement(e.Fragment,null,e.createElement(ye,{gridRef:l,title:"Alumnos",rest:ve,selectable:!0,toolBar:t=>{t.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(l.current).dxDataGrid("instance").refresh()}}),t.unshift({widget:"dxButton",location:"after",options:{icon:"fas fa-mortar-board",hint:"Asignar certificados",onClick:()=>{const a=$(l.current).dxDataGrid("instance").getSelectedRowKeys();if(a.length==0)return w.fire({title:"Selecciona un alumno",text:"Selecciona al menos un alumno para asignar certificados",icon:"warning",confirmButtonText:"Ok"});E(a),O([]),B(!0)}}}),t.unshift({widget:"dxButton",location:"after",options:{icon:"fas fa-book",hint:"Asignar cursos",onClick:()=>{const a=$(l.current).dxDataGrid("instance").getSelectedRowKeys();if(a.length==0)return w.fire({title:"Selecciona un alumno",text:"Selecciona al menos un alumno para asignar cursos",icon:"warning",confirmButtonText:"Ok"});E(a),R([]),A(!0)}}})},columns:[{dataField:"name",caption:"Nombres"},{dataField:"lastname",caption:"Apellidos"},{dataField:"email",caption:"Correo"},{caption:"Cursos",cellTemplate:(t,{data:a})=>{oe(t,e.createElement(f,{content:"Ver/Asignar cursos"},e.createElement("button",{onClick:()=>W(a)},e.createElement("i",{className:"fa fa-book me-1"}),a.courses.length)))},allowFiltering:!1},{caption:"Certificados",cellTemplate:(t,{data:a})=>{var n;oe(t,e.createElement(f,{content:"Ver/Asignar certificados"},e.createElement("button",{onClick:()=>H(a)},e.createElement("i",{className:"fa fa-mortar-board me-1"}),((n=a.certificates)==null?void 0:n.length)||0)))}},{dataField:"created_at",caption:"Fecha creacion",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{caption:"Acciones",cellTemplate:(t,{data:a})=>{t.append(le({className:"px-2 py-0 text-xs font-medium text-blue-700 bg-blue-100 rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-150 ease-in-out border-none text-blue-500",title:"Ver/Asignar cursos",icon:"fa fa-book",onClick:()=>W(a)})),t.append(le({className:"px-2 py-0 text-xs font-medium text-green-500 bg-green-100 rounded hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition duration-150 ease-in-out border-none text-green-500",title:"Ver/Asignar certificados",icon:"fa fa-mortar-board",onClick:()=>H(a)}))},allowFiltering:!1,allowExporting:!1}]}),e.createElement(z,{isOpen:c,style:ie,onRequestClose:()=>{m(!1),h(null)}},e.createElement("h4",{className:"text-lg font-semibold mb-4"},"Ver/Asignar cursos"),e.createElement(G,{...r,className:"mb-4"}),e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de cursos"),e.createElement("div",{className:"relative mb-2"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},e.createElement("i",{className:"fa fa-book"})),e.createElement("input",{ref:s,type:"search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5  outline-none",placeholder:"Ingrese el nombre de un curso",onChange:J,autoComplete:"off"})),e.createElement("div",{className:`${k.length>0?"absolute":"hidden"} z-10 bg-white rounded border w-full shadow mt-1`},e.createElement("ul",{className:"max-h-48 py-2 overflow-y-auto text-gray-700 ","aria-labelledby":"dropdownUsersButton"},k==null?void 0:k.map((t,a)=>e.createElement("li",{key:a,className:"w-full"},e.createElement(f,{content:`Clic para agregar ${t.producto}`},e.createElement("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100 text-start",onClick:()=>{R(n=>[...n,t]),P([]),s.current.value=""}},e.createElement("img",{className:"w-6 h-6 me-2 rounded-full",src:`/${t.imagen}`,alt:t.producto,onError:n=>n.target.src="/images/img/noimagen.jpg"}),e.createElement("span",{className:"flex-1 line-clamp-2 text-ellipsis text-sm"},t.producto)))))))),e.createElement("div",{className:"relative border shadow rounded mb-4"},e.createElement("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500"},e.createElement("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3"},"Curso"),e.createElement("th",{scope:"col",className:"px-6 py-3"},"Estado"))),e.createElement("tbody",null,((K=r==null?void 0:r.courses)==null?void 0:K.length)>0||d.length>0?(Q=r==null?void 0:r.courses)==null?void 0:Q.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},t.producto)),e.createElement("td",{className:"px-6 py-4 text-blue-500 text-nowrap"},"En curso"))):e.createElement("tr",null,e.createElement("td",{className:"px-6 py-4 text-center text-nowrap",colSpan:2},"- Sin cursos -")),d.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},e.createElement(f,{content:`Quitar ${t.producto}`},e.createElement("i",{className:"fa fa-times text-red-500 font-semibold me-1 cursor-pointer",onClick:()=>q(t.id)})),t.producto)),e.createElement("td",{className:"px-6 py-4 text-gray-500 text-nowrap"},"Por asignar")))))),d.length>0&&e.createElement("div",{className:"text-end"},e.createElement(f,{content:`Asignar ${d.length} ${d.length==1?"curso":"cursos"} a ${(U=r==null?void 0:r.name)==null?void 0:U.split(" ")[0]}`},e.createElement("button",{type:"button",className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2 me-2 mb-2",onClick:pe},"Asignar")))),e.createElement(z,{isOpen:v,style:me,onRequestClose:()=>{A(!1),E([])}},e.createElement("h4",{className:"text-lg font-semibold mb-4"},"Asignar cursos (Masivo)"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4"},e.createElement("div",{className:"col-span-1 md:col-span-2"},e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de Alumnos"),e.createElement("div",{className:"flex flex-col gap-2"},p==null?void 0:p.map((t,a)=>e.createElement(G,{key:a,...t})))),e.createElement("div",{className:"col-span-1 md:col-span-3"},e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de cursos"),e.createElement("div",{className:"relative mb-2"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},e.createElement("i",{className:"fa fa-book"})),e.createElement("input",{ref:s,type:"search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5  outline-none",placeholder:"Ingrese el nombre de un curso",onChange:J,autoComplete:"off"})),e.createElement("div",{className:`${k.length>0?"absolute":"hidden"} z-10 bg-white rounded border w-full shadow mt-1`},e.createElement("ul",{className:"max-h-48 py-2 overflow-y-auto text-gray-700 ","aria-labelledby":"dropdownUsersButton"},k==null?void 0:k.map((t,a)=>e.createElement("li",{key:a,className:"w-full"},e.createElement(f,{content:`Clic para agregar ${t.producto}`},e.createElement("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100 text-start",onClick:()=>{R(n=>[...n,t]),P([]),s.current.value=""}},e.createElement("img",{className:"w-6 h-6 me-2 rounded-full",src:`/${t.imagen}`,alt:t.producto,onError:n=>n.target.src="/images/img/noimagen.jpg"}),e.createElement("span",{className:"flex-1 line-clamp-2 text-ellipsis text-sm"},t.producto)))))))),e.createElement("div",{className:"relative border shadow rounded mb-4"},e.createElement("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500"},e.createElement("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3"},"Curso"),e.createElement("th",{scope:"col",className:"px-6 py-3"},"Estado"))),e.createElement("tbody",null,((Y=r==null?void 0:r.courses)==null?void 0:Y.length)>0||d.length>0?(X=r==null?void 0:r.courses)==null?void 0:X.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},t.producto)),e.createElement("td",{className:"px-6 py-4 text-blue-500 text-nowrap"},"En curso"))):e.createElement("tr",null,e.createElement("td",{className:"px-6 py-4 text-center text-nowrap",colSpan:2},"- Sin cursos -")),d.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},e.createElement(f,{content:`Quitar ${t.producto}`},e.createElement("i",{className:"fa fa-times text-red-500 font-semibold me-1 cursor-pointer",onClick:()=>q(t.id)})),t.producto)),e.createElement("td",{className:"px-6 py-4 text-gray-500 text-nowrap"},"Por asignar")))))),d.length>0&&e.createElement("div",{className:"text-end"},e.createElement(f,{content:`Asignar ${d.length} ${d.length==1?"curso":"cursos"} a ${(Z=r==null?void 0:r.name)==null?void 0:Z.split(" ")[0]}`},e.createElement("button",{type:"button",className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2 me-2 mb-2",onClick:de},"Asignar")))))),e.createElement(z,{isOpen:u,style:ie,onRequestClose:()=>{C(!1),h(null)}},e.createElement("h4",{className:"text-lg font-semibold mb-4"},"Ver/Asignar certificados"),e.createElement(G,{...r,className:"mb-4"}),e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de cursos certificados"),e.createElement("div",{className:"relative mb-2"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},e.createElement("i",{className:"fa fa-book"})),e.createElement("input",{ref:s,type:"search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5  outline-none",placeholder:"Ingrese el nombre de un curso",onChange:j,autoComplete:"off",onFocus:j,onBlur:()=>setTimeout(()=>D([]),250)})),e.createElement("div",{className:`${S.length>0?"absolute":"hidden"} z-10 bg-white rounded border w-full shadow mt-1`},e.createElement("ul",{className:"max-h-48 py-2 overflow-y-auto text-gray-700 ","aria-labelledby":"dropdownUsersButton"},S==null?void 0:S.map((t,a)=>e.createElement("li",{key:a,className:"w-full"},e.createElement(f,{content:`Clic para agregar certificado de ${t.producto}`},e.createElement("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100 text-start",onClick:()=>{O(n=>[...n,t]),D([]),s.current.value=""}},e.createElement("img",{className:"w-6 h-6 me-2 rounded-full",src:`/${t.imagen}`,alt:t.producto,onError:n=>n.target.src="/images/img/noimagen.jpg"}),e.createElement("span",{className:"flex-1 line-clamp-2 text-ellipsis text-sm"},t.producto)))))))),e.createElement("div",{className:"relative border shadow rounded mb-4"},e.createElement("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500"},e.createElement("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3"},"Curso"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-center"},"Nota"))),e.createElement("tbody",null,((L=r==null?void 0:r.certificates)==null?void 0:L.length)>0||g.length>0?(ee=r==null?void 0:r.certificates)==null?void 0:ee.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},t.producto)),e.createElement("td",{className:"px-6 py-4 text-blue-500 text-nowrap text-center font-bold font-mono"},t.score,"/",t.questions))):e.createElement("tr",null,e.createElement("td",{className:"px-6 py-4 text-center text-nowrap",colSpan:2},"- Sin cursos certificados -")),g.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},e.createElement(f,{content:`Quitar certificado de ${t.producto}`},e.createElement("i",{className:"fa fa-times text-red-500 font-semibold me-1 cursor-pointer",onClick:()=>q(t.id)})),t.producto)),e.createElement("td",{className:"px-6 py-4 text-gray-500 text-nowrap"},"Por asignar")))))),g.length>0&&e.createElement("div",{className:"text-end"},e.createElement(f,{content:`Asignar ${g.length} ${g.length==1?"certificado":"certificados"} a ${(te=r==null?void 0:r.name)==null?void 0:te.split(" ")[0]}`},e.createElement("button",{type:"button",className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2 me-2 mb-2",onClick:ge},"Asignar")))),e.createElement(z,{isOpen:T,style:me,onRequestClose:()=>{B(!1),E([])}},e.createElement("h4",{className:"text-lg font-semibold mb-4"},"Asignar certificados (Masivo)"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4"},e.createElement("div",{className:"col-span-1 md:col-span-2"},e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de Alumnos"),e.createElement("div",{className:"flex flex-col gap-2"},p==null?void 0:p.map((t,a)=>e.createElement(G,{key:a,...t})))),e.createElement("div",{className:"col-span-1 md:col-span-3"},e.createElement("div",{className:"mb-2 flex justify-between text-md text-start text-gray-700 font-semibold"},"Lista de cursos certificados"),e.createElement("div",{className:"relative mb-2"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},e.createElement("i",{className:"fa fa-book"})),e.createElement("input",{ref:s,type:"search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5  outline-none",placeholder:"Ingrese el nombre de un curso",onChange:j,autoComplete:"off",onFocus:j,onBlur:()=>setTimeout(()=>D([]),250)})),e.createElement("div",{className:`${S.length>0?"absolute":"hidden"} z-10 bg-white rounded border w-full shadow mt-1`},e.createElement("ul",{className:"max-h-48 py-2 overflow-y-auto text-gray-700 ","aria-labelledby":"dropdownUsersButton"},S==null?void 0:S.map((t,a)=>e.createElement("li",{key:a,className:"w-full"},e.createElement(f,{content:`Clic para agregar certificado de ${t.producto}`},e.createElement("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100 text-start",onClick:()=>{O(n=>[...n,t]),D([]),s.current.value=""}},e.createElement("img",{className:"w-6 h-6 me-2 rounded-full",src:`/${t.imagen}`,alt:t.producto,onError:n=>n.target.src="/images/img/noimagen.jpg"}),e.createElement("span",{className:"flex-1 line-clamp-2 text-ellipsis text-sm"},t.producto)))))))),e.createElement("div",{className:"relative border shadow rounded mb-4"},e.createElement("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500"},e.createElement("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3"},"Curso"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-center"},"Nota"))),e.createElement("tbody",null,((ae=r==null?void 0:r.certificates)==null?void 0:ae.length)>0||g.length>0?(re=r==null?void 0:r.certificates)==null?void 0:re.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},t.producto)),e.createElement("td",{className:"px-6 py-4 text-blue-500 text-nowrap text-center font-bold font-mono"},t.score,"/",t.questions))):e.createElement("tr",null,e.createElement("td",{className:"px-6 py-4 text-center text-nowrap",colSpan:2},"- Sin cursos certificados -")),g.map((t,a)=>e.createElement("tr",{key:a,className:"bg-white border-t"},e.createElement("th",{scope:"row",className:"px-6 py-4 font-medium"},e.createElement("div",{className:"line-clamp-1 text-ellipsis w-full"},e.createElement(f,{content:`Quitar certificado de ${t.producto}`},e.createElement("i",{className:"fa fa-times text-red-500 font-semibold me-1 cursor-pointer",onClick:()=>q(t.id)})),t.producto)),e.createElement("td",{className:"px-6 py-4 text-gray-500 text-nowrap"},"Por asignar")))))),g.length>0&&e.createElement("div",{className:"text-end"},e.createElement(f,{content:`Asignar ${g.length} ${g.length==1?"certificado":"certificados"} a ${(se=r==null?void 0:r.name)==null?void 0:se.split(" ")[0]}`},e.createElement("button",{type:"button",className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2 me-2 mb-2",onClick:fe},"Asignar")))))))};be((l,s)=>{ue(l).render(e.createElement($e,{...s}))});
