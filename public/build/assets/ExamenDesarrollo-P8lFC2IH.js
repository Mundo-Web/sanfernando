var b=Object.defineProperty;var h=(a,r,l)=>r in a?b(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l;var x=(a,r,l)=>(h(a,typeof r!="symbol"?r+"":r,l),l);import{R as e,r as c}from"./YTEmbed-TT1qJ6UJ.js";import{c as N}from"./ReactAppend-KDUPWIs7.js";import{C as v}from"./CreateReactScript-DoGUH63A.js";import{S as y}from"./FormEstudiante-StMcfUlx.js";import{B as C}from"./BasicRest-6H19Tby_.js";import{A as k}from"./AttempsExamRest-mEoMfOQ2.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-PQumg_A6.js";import"./CreateReactScript-RK7sE0Jg.js";import"./axios-_sX4vCAy.js";import"./main-jzs2GwAM.js";class R extends C{constructor(){super(...arguments);x(this,"path","attemps-detail-simulation")}}const B=new k,S=new R,$=({evaluation:a,questions:r,attemp:l})=>{const[m,F]=c.useState(r);c.useState(0),c.useState(0);const[o,p]=c.useState({}),u=m.findIndex(({done:t})=>!t),f=m[u];Math.floor(a.duracion/60),a.duracion%60;const g=(t,n)=>{p(s=>({...s,[t]:n}))},E=async()=>{const{isConfirmed:t}=await y.fire({title:"¿Estás seguro?",text:"Estas a punto de finalizar esta evaluacion. Asegurate de haber marcado la respuesta correcta.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, finalizar",cancelButtonText:"Cancelar"});if(!t)return;const n=Object.entries(o).map(([i,w])=>({question_id:i,answer_id:w,attemp_id:l.id}));(await Promise.all(n.map(i=>S.save(i)))).some(i=>!i)||d()},d=async()=>{B.delete(l.id)&&(location.href=`/micuenta/examen-simulacro-terminado/${l.id}`)};return f?e.createElement(e.Fragment,null,e.createElement("section",null,e.createElement("div",{className:"flex flex-col lg:flex-row gap-10 justify-between items-center px-[5%] lg:px-[8%] py-10 bg-rose-50 font-poppins_regular"},e.createElement("div",{className:"flex gap-8 items-center max-w-3xl"},e.createElement("div",{className:""},e.createElement("div",{className:"text-2xl font-bold font-poppins_bold leading-none text-neutral-800 "},a.producto),e.createElement("div",{className:"mt-4 mb-2"},e.createElement("div",{className:"flex flex-row gap-2 items-center"},e.createElement("i",{className:"fa-solid fa-circle-question text-[#FF6636]"}," "),e.createElement("span",{className:"me-1"},m.length," preguntas"))),e.createElement("div",{className:"mt-2 text-base font-medium leading-6 text-gray-600 "},a.extract))))),e.createElement("section",{className:"px-[5%] lg:px-[8%] font-poppins_regular"},e.createElement("div",{className:"flex flex-col py-16 max-w-3xl mx-auto"},m.map((t,n)=>e.createElement("div",{key:t.id,className:"mb-10"},e.createElement("div",{className:"flex flex-col w-full font-semibold"},e.createElement("div",{className:"text-lg leading-tight text-rose-700"},"Pregunta ",n+1),e.createElement("div",{className:"mt-2 text-xl tracking-normal leading-7 text-neutral-800"},t.question),t.imagen&&e.createElement("img",{src:`/storage/${t.imagen.replace("storage/","")}`,alt:t.question,className:"mt-4 rounded-lg max-w-full"})),e.createElement("div",{className:"flex flex-col gap-4 mt-6 w-full text-base font-medium leading-6 text-gray-600"},t.random_answers.filter(Boolean).map(s=>e.createElement("div",{key:`answer-${s.id}`},e.createElement("label",{htmlFor:`answer-${t.id}-${s.id}`,className:"flex items-center gap-4 p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer hover:text-gray-600 hover:bg-gray-100 peer-checked:border-red-600 peer-checked:text-red-600 peer-checked:bg-rose-50"},e.createElement("input",{type:"radio",id:`answer-${t.id}-${s.id}`,name:`answer-${t.id}`,value:s.id,checked:o[t.id]===s.id,onChange:()=>g(t.id,s.id),className:"peer w-4 h-4 text-red-600 bg-gray-100 border-gray-300 focus:ring-red-500",required:!0}),e.createElement("div",{className:"w-full"},s.response))))))),e.createElement("div",{className:"flex flex-col lg:flex-row mt-16 text-sm tracking-normal text-white w-full gap-5 items-end"},e.createElement("button",{className:"font-semibold bg-[#CF072C] rounded-2xl w-max text-center py-4 px-8",onClick:E},"Finalizar evaluación"))))):d()};v((a,r)=>{N(a).render(e.createElement($,{...r}))});
